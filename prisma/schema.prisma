
generator client {
  provider = "prisma-client"
  output   = "../src/generated/prisma"
}

datasource db {
  provider = "postgresql"
}

// User 모델 정의 (모든 가입 유형을 포함)
model User {
  id              String    @id @default(uuid()) // Primary Key (UUID 사용 권장)
  email           String    @unique // ❗ 모든 사용자의 고유 식별자 (로컬/소셜 공통)
  name            String?
  birth           String?
  gender          String?
  
  // 인증 관련 필드
  password        String?   // 로컬 회원가입 사용자만 가짐 (NULL 허용)
  provider        String    // 'local', 'kakao', 'google', 'naver' 중 하나
  providerId      String?   // 소셜 서비스의 고유 ID (소셜 사용자에게만 필요)

  // 중복된 소셜 계정 방지 (Optional: 이메일이 같더라도 소셜 Provider가 다르면 분리 가능)
  @@unique([provider, providerId])
}